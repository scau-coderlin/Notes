# 系统相关

## 获取当前系统时间函数

```cpp
#include <sstream>
#include <boost/date_time/posix_time/posix_time.hpp>

std::string GetSysTime()
{
    // 获取当前时间
    boost::posix_time::ptime currentTime = boost::posix_time::microsec_clock::local_time();

    // 创建自定义的时间格式
    std::locale loc(std::locale::classic(), new boost::posix_time::time_facet("%Y-%m-%d,%H:%M:%S"));

    // 将时间格式化为字符串
    std::stringstream ss;
    ss.imbue(loc);
    ss << currentTime;

    return ss.str();
}
```



# 客户端同步通讯

```cpp
//创建上下文服务
boost::asio::io_context ioc;

// 构造endpoint
boost::asio::ip::tcp::endpoint remote_ep(
    boost::asio::ip::address::from_string(ipv4.c_str()), port);
boost::asio::ip::tcp::socket sock(ioc);
boost::system::error_code error = boost::asio::error::host_not_found;
sock.connect(remote_ep, error);
if (error) 
{
    throw Union::Anomaly::Exception(__func__, __LINE__, error.message());
}

boost::asio::write(sock, boost::asio::buffer(buffer, length));
                   
boost::asio::read(sock, boost::asio::buffer(buffer, length));
```

